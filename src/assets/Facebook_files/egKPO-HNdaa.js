if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometHomeContactListItemsHoverCards_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactListItemsHoverCards_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWChatContact_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatContact_profile",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}}();e.exports=a}),null);
__d("MWChatContact_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatContact_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHovercardGroupContainer.react",["BaseContextualLayer.react","CometPlaceholder.react","CometRelay","FocusInertRegion.react","HiddenSubtreeContextProvider.react","focusScopeQueries","react","stylex","useFadeEffect"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contentKey,e=a.entryPointReference,f=a.isVisible,g=a.otherProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["contentKey","entryPointReference","isVisible","otherProps"]);var i=c("useFadeEffect")(f),j=i[0],k=i[1];i=i[2];return!j?null:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("BaseContextualLayer.react"),babelHelpers["extends"]({align:"middle"},a,{children:h.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:!f,children:h.jsx("div",{className:c("stylex").dedupe({"opacity-1":"b5wmifdl","transition-duration-1":"c5ndavph","transition-property-1":"art1omkt","transition-timing-function-1":"ot9fgl3s"},k?{"opacity-1":"pedkr2u6","transition-duration-1":"ijkhr0an","transition-timing-function-1":"s13u9afw"}:null),ref:i,children:h.jsx(c("FocusInertRegion.react"),{focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:e,props:g})})})})}))},b)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHovercardGroup.react",["CometHovercardGroupContainer.react","CometRelay","qex","react","recoverableViolation","stylex","useCometPreloader","useCometRelayEntrypointContextualEnvironmentProvider","useDelayedState","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useMemo,k=e.useRef,l=e.useState,m=250,n=50,o=h.createContext(null);function a(a){var b=a.children,d=a.preloadTrigger,e=d===void 0?"tooltip":d;d=a.xstyle;a=c("useDelayedState")(!1);var f=a[0],g=a[1];a=l(null);var i=a[0],k=a[1];a=j(function(){return{onShow:function(a){k(a),g(!0,m)},preloadTrigger:e}},[g,e]);var p=function(){g(!1,n)};return h.jsxs("div",{className:c("stylex")(d),onBlur:p,onMouseLeave:p,children:[h.jsx(o.Provider,{value:a,children:b}),i!=null&&h.jsx(c("CometHovercardGroupContainer.react"),babelHelpers["extends"]({},i,{isVisible:f}))]})}a.displayName=a.name+" [from "+f.id+"]";var p=0;function q(){return"hovercard-"+p++}function b(a){var b=a.children,e=a.entryPoint,f=a.entryPointParams,g=a.xstyle,j=babelHelpers.objectWithoutPropertiesLoose(a,["children","entryPoint","entryPointParams","xstyle"]),l=c("useCometRelayEntrypointContextualEnvironmentProvider")(),m=c("useStable")(q),n=k(null);a=i(o);var p=k(null),r=a||{},s=r.onShow;r=r.preloadTrigger;var t=function(){s!=null&&(p.current==null&&(p.current=d("CometRelay").loadEntryPoint(l,e,f)),s(babelHelpers["extends"]({},j,{contentKey:m,contextRef:n,entryPointReference:p.current})))};r=c("useCometPreloader")(r,void 0,t);var u=r[0],v=r[1];r=r[2];a==null&&c("recoverableViolation")("CometHovercardGroup: Cannot render a CometHovercardGroup.Child outside of a CometHovercardGroup.Group. ","comet_ui");a={onBlur:v,onFocus:u,onMouseDown:r,onMouseEnter:u,onMouseLeave:v,onTouchCancel:v,onTouchEnd:v,onTouchStart:u};r={onFocus:t,onMouseEnter:t};v=r;u=c("qex")._("458");u==="button_aggressive"&&(v=a);return h.jsx("div",babelHelpers["extends"]({className:c("stylex")(g)},v,{children:b(n)}))}b.displayName=b.name+" [from "+f.id+"]";g.Group=a;g.Child=b}),98);
__d("LSThreadAttributionStore.re",["LSThreadAttributionStore.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("LSThreadAttributionStore.bs").setSource,a,c);return a};f.setSource=a;c=function(a,c){a=b("bs_curry")._2(b("LSThreadAttributionStore.bs").setLSMessagingThreadAttribution,a,c);return a};f.setLSMessagingThreadAttribution=c}),null);
__d("MWLSPreloadThreadForContact.re",["MWLSPreloadThreadForContact.bs"],(function(a,b,c,d,e,f){a=b("MWLSPreloadThreadForContact.bs").usePreloaderForUser;f.usePreloaderForUser=a}),null);
__d("XCometActiveContactsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/active/t/{thread_key}/",Object.freeze({}),["/messages/active/"],void 0);b=a;g["default"]=b}),98);
__d("MWChatContact.react",["CometGlobalPanelGating","CometRelay","CurrentEnvironment","JSResourceForInteraction","JSScheduler","LSThreadAttributionStore.re","MWChatContact_profile.graphql","MWChatContact_viewer.graphql","MWLSPreloadThreadForContact.re","TetraListCell.react","XCometActiveContactsControllerRouteBuilder","XCometMessengerControllerRouteBuilder","XCometStoriesControllerRouteBuilder","gkx","qex","react","recoverableViolation","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=d("react").useCallback,l=c("JSResourceForInteraction")("MWV2ChatTab.bs").__setRef("MWChatContact.react");function a(a){var e=a.entryPoint,f=a.openTabForUser,g=a.preventLocalNavigation;g=g===void 0?!0:g;var m=a.profile,n=a.selected;n=n===void 0?!1:n;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatContact_viewer.graphql"),a);var o=c("qex")._("1285");o=o===!0?(a==null?void 0:(o=a.presence_view_side_settings)==null?void 0:o.is_active_status_viewable)===!0:(a==null?void 0:a.chat_visibility)===!0;a=d("CometRelay").useFragment(i!==void 0?i:i=b("MWChatContact_profile.graphql"),m);m=a.availability;var p=a.id,q=a.last_active_time,r=a.name,s=a.profile_picture,t,u="none";a=(a=a.story_bucket)==null?void 0:a.nodes;a=a?a[0]:null;if(a!=null){var v,w=a.id;v=(v=a.first_story_to_show)==null?void 0:v.id;a=a==null?void 0:(a=a.first_story_to_show)==null?void 0:(a=a.story_card_seen_state)==null?void 0:a.is_seen_by_viewer;a!=null&&(u=a?"seen":"unseen");if(u!=="none"&&w!=null&&v!=null){a=c("XCometStoriesControllerRouteBuilder").buildURL({bucket_id:w,card_id:v,view_single:!0});t={prefetchQueriesOnHover:!0,url:a}}}w=k(function(){c("gkx")("1512630")&&d("JSScheduler").scheduleSpeculativeCallback(function(){l.preload()})},[]);var x=c("MWLSPreloadThreadForContact.re").usePreloaderForUser();v=k(function(){p!=null&&x(p)},[p,x]);a=c("useCometPreloader")("button",w,v);var y=a[0];w=a[1];var z=a[2],A=a[3];v=k(function(a){z!=null&&z(a),p!=null&&f(p,!1)},[z,p,f]);a=k(function(a){z!=null&&z(a),p!=null&&c("LSThreadAttributionStore.re").setSource(p,e)},[z,p,e]);var B=k(function(a){y(a),A(!0)},[y,A]);s=s==null?void 0:s.uri;if(p==null)return c("recoverableViolation")("Chat contact list cell is missing id","comet_ui");if(r==null)return c("recoverableViolation")("Chat contact list cell is missing name","comet_ui");if(s==null)return c("recoverableViolation")("Chat contact list cell is missing profileUri","comet_ui");m=m==="ACTIVE";o=o?q:void 0;q={addOn:m?{type:"availabilityBadge"}:o!=null?{border:"web-wash",time:o,type:"lastActiveTimeBadge"}:void 0,linkProps:t!=null?t:void 0,shape:"circle",size:d("CometGlobalPanelGating").isGlobalPanelM3Enabled()?24:36,source:{uri:s},storyStatus:u,type:"profile-photo"};m=c("gkx")("1950");o=m?c("XCometActiveContactsControllerRouteBuilder"):c("XCometMessengerControllerRouteBuilder");s=c("CurrentEnvironment").facebookdotcom?o.buildURL({thread_key:p}):(m?"/active":"")+"/t/"+p+"/";return j.jsx(c("TetraListCell.react"),{addOnPrimary:q,disabled:!1,headline:r,level:4,linkProps:{preventLocalNavigation:g,url:s},onHoverIn:B,onHoverOut:w,onPress:g?v:a,selected:n,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContactListItemsHoverCards.react",["CometHomeContactListItemsHoverCards_viewer.graphql","CometHovercardGroup.react","CometHovercardQueryRenderer.entrypoint","CometRelay","MWChatContact.react","MWChatFilterContacts","emptyFunction","qex","react","useActorHovercardContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.openTabForUser;a=a.viewer$key;var f=c("useActorHovercardContext")(),g=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeContactListItemsHoverCards_viewer.graphql"),a);a=(a=g==null?void 0:g.chat_sidebar_contacts)!=null?a:[];a=d("MWChatFilterContacts").filter(a);a=a.filteredContacts;var j=c("qex")._("458"),k="tooltip";j==="button_aggressive"&&(k=j);return i.jsx(d("CometHovercardGroup.react").Group,{preloadTrigger:k,children:a.map(function(a){var b;return i.jsx("li",{children:i.jsx(d("CometHovercardGroup.react").Child,{entryPoint:c("CometHovercardQueryRenderer.entrypoint"),entryPointParams:{context:f,entityID:(b=a.id)!=null?b:""},otherProps:{onClose:c("emptyFunction"),visualStyle:"without_action_bar"},position:"start",children:function(b){return i.jsx("div",{ref:b,children:i.jsx(c("MWChatContact.react"),{entryPoint:"sidebarContactsList",openTabForUser:e,profile:a,viewer:g})})}})},a.id)})})}a.displayName=a.name+" [from "+f.id+"]";e=i.memo(a,function(a,b){return b.preventReordering});g["default"]=e}),98);